{"ast":null,"code":"const initialState = {\n  videogames: [],\n  allVideogames: [],\n  allgenres: [],\n  platforms: [],\n  details: {}\n};\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"GET_VIDEOGAMES\":\n      // let platforms = [];\n      // action.payload.map((element) => (platforms = [...platforms, ...element.platforms]));\n      return {\n        ...state,\n        videogames: action.payload,\n        allVideogames: action.payload\n        // platforms: Array.from(new Set(platforms)),\n        // page: 1,\n      };\n\n    case \"GET_NAME_VIDEOGAMES\":\n      return {\n        ...state,\n        allgenres: action.payload\n      };\n    case \"GET_DETAILS\":\n      return {\n        ...state,\n        details: action.payload\n      };\n    case \"CLEAR\":\n      return {\n        ...state,\n        details: action.payload\n      };\n    case \"FILTER_BY_GENRES\":\n      const allVideogames2 = state.allVideogames;\n      const genresFilter = action.payload === \"All\" ? allVideogames2 : allVideogames2.filter(element => element.genres.includes(action.payload));\n      return {\n        ...state,\n        videogames: genresFilter\n      };\n    case \"OREDER_BY_RATING\":\n      const sorteArrRating = action.payload === \"least\" ? state.videogames.sort(function (a, b) {\n        if (a.rating > b.rating) {\n          return 1;\n        }\n        if (b.rating > a.rating) {\n          return -1;\n        }\n        return 0;\n      }) : state.videogames.sort(function (a, b) {\n        if (a.rating > b.rating) {\n          return -1;\n        }\n        if (b.rating > a.rating) {\n          return 1;\n        }\n        return 0;\n      });\n      return {\n        ...state,\n        videogames: sorteArrRating\n      };\n    case \"ORDER_BY_NAME\":\n      let sortedArr = action.payload === 'asc' ? state.videogames.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n        if (b.name.toLowerCase() > a.name.toLowerCase()) {\n          return -1;\n        }\n        return 0;\n      }) : state.videogames.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return -1;\n        }\n        if (b.name.toLowerCase() > a.name.toLowerCase()) {\n          return 1;\n        }\n        return 0;\n      });\n      return {\n        ...state,\n        videogames: sortedArr\n      };\n    default:\n      return state;\n  }\n}\nexport default rootReducer;","map":{"version":3,"names":["initialState","videogames","allVideogames","allgenres","platforms","details","rootReducer","state","arguments","length","undefined","action","type","payload","allVideogames2","genresFilter","filter","element","genres","includes","sorteArrRating","sort","a","b","rating","sortedArr","name","toLowerCase"],"sources":["C:/Users/Matia/OneDrive/Escritorio/PI-Videogames-main/PI-Videogames-main/client/src/redux/reducer/index.js"],"sourcesContent":["const initialState = {\r\n    videogames: [],\r\n    allVideogames: [],\r\n    allgenres: [],\r\n    platforms: [],\r\n    details: {},\r\n};\r\n\r\nfunction rootReducer (state = initialState, action) {\r\n    switch (action.type) {\r\n\r\n        case \"GET_VIDEOGAMES\":\r\n            // let platforms = [];\r\n            // action.payload.map((element) => (platforms = [...platforms, ...element.platforms]));\r\n            return {\r\n                ...state,\r\n                videogames: action.payload,\r\n                allVideogames: action.payload,\r\n                // platforms: Array.from(new Set(platforms)),\r\n                // page: 1,\r\n            };\r\n\r\n        case \"GET_NAME_VIDEOGAMES\":\r\n            return {\r\n                ...state, \r\n                allgenres: action.payload,\r\n            };\r\n\r\n        case \"GET_DETAILS\":\r\n            return {\r\n                ...state,\r\n                details: action.payload\r\n            };\r\n        \r\n        case \"CLEAR\":\r\n            return {\r\n                ...state,\r\n                details: action.payload\r\n            }\r\n        \r\n        case \"FILTER_BY_GENRES\":\r\n            const allVideogames2 = state.allVideogames;\r\n            const genresFilter = action.payload === \"All\"\r\n            ? allVideogames2\r\n            : allVideogames2.filter((element) => element.genres.includes(action.payload));\r\n        return {\r\n            ...state,\r\n            videogames: genresFilter,\r\n        };\r\n\r\n        case \"OREDER_BY_RATING\":\r\n            const sorteArrRating = action.payload === \"least\"\r\n            ? state.videogames.sort(function (a, b) {\r\n                if (a.rating > b.rating) {\r\n                    return 1;\r\n                }\r\n                if (b.rating > a.rating) {\r\n                    return -1;\r\n                }\r\n                return 0;\r\n            })\r\n            : state.videogames.sort(function (a, b) {\r\n                if (a.rating > b.rating) {\r\n                    return -1;\r\n                }\r\n                if (b.rating > a.rating) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            });\r\n            return {\r\n                ...state,\r\n                videogames: sorteArrRating,\r\n            };\r\n\r\n            case \"ORDER_BY_NAME\":\r\n                let sortedArr = \r\n                action.payload === 'asc'\r\n                ? state.videogames.sort(function (a, b) {\r\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                        return 1;\r\n                    }\r\n                    if (b.name.toLowerCase() > a.name.toLowerCase()){\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                })\r\n                : state.videogames.sort(function (a, b) {\r\n                    if(a.name.toLowerCase() > b.name.toLowerCase()){\r\n                        return -1;\r\n                    }\r\n                    if (b.name.toLowerCase() > a.name.toLowerCase()){\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                });\r\n                return {\r\n                    ...state,\r\n                    videogames: sortedArr,\r\n                };\r\n\r\n                default: return state;\r\n    }\r\n}\r\n\r\n\r\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}